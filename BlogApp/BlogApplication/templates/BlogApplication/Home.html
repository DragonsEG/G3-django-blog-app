{% extends "BlogApplication/Base/Base.html" %} {% block container %}
<div class="container my-3">
  <h2 class="text-center">Post List</h2>

  <div class="container">
    <div class="d-grid gap-2 w-75 flex-container justify-content-end mb-3">
      {% if request.user.is_authenticated %}
      <a href="{% url 'addPost' %}" class="btn btn-success mx-1">
        Add Post
      </a>
      {% endif %}
    </div>
    {% for post in posts %}
  <div class="container w-50 border rounded p-3 mb-3">
    <div class="row">
      <div class="col-md-12">
        <div class="flex-container d-flex mb-3">
          <h3 class="text-left d-inline-flex w-50">{{ post.title }}</h3>
          <div class="d-grid gap-2 w-50 d-flex justify-content-end">
            {% if request.user.is_authenticated and post.author == request.user %}
              <div>
                <a href="{% url 'edit' post.pk %}" class="btn btn-primary mx-1">
                  Edit
                </a>
                <a href="{% url 'delete' post.pk %}" class="btn btn-danger mx-1">
                  Delete
                </a>
              </div>
            {% endif %}
          </div>
        </div>
        <p>
          {{ post.content|truncatewords:20 }} 
          <a href="{% url 'details' post.pk %}" class="text-primary">
            Read More
          </a>
        </p>
        <p>{{ post.pubDate }}</p>
      </div>
    </div>
  </div>
{% endfor %}

    {% comment %} {% for post in posts %}
    <div class="container w-50 border rounded p-3 mb-3">
      <!-- ^^^ Add border and padding classes here -->
      <div class="row">
        <div class="col-md-12">
          <div class="flex-container d-flex mb-3">
            <h3 class="text-left d-inline-flex w-50">{{ post.title }}</h3>
            <div class="d-grid gap-2 w-50 d-flex justify-content-end">
              {% if request.user.is_authenticated %}
              <div>
                <a href="{% url 'edit' post.pk %}" class="btn btn-primary mx-1">
                  Edit
                </a>
                <a
                  href="{% url 'delete' post.pk %}"
                  class="btn btn-danger mx-1"
                >
                  Delete
                </a>
              </div>
              {% endif %}
            </div>
          </div>
          <p>
            {{ post.content|truncatewords:20 }} 
            <a href="{% url 'details' post.pk %}" class="text-primary">
              Read More
            </a>
            
          </p>
          <p>{{ post.pupDate }}</p>
        </div>
      </div>
    </div>
    {% endfor %} {% endcomment %}
  </div>
</div>
{% endblock container %}
